/* *****************************************************************************
 * File:     movementSample.h                                                  *
 * Project:  Smart Bedding                                                     *
 * Author:   GIBIC Medtech                                                     *
 * Version:  V_1.1                                                             *
 *                                                                             *
 * Created on April 7, 2021, 13:30 PM                                          *
 * *****************************************************************************/

#ifndef MOVEMENTSAMPLE_H
#define MOVEMENTSAMPLE_H

/** ****************************************************************************
 ** ************ INCLUDES ******************************************************
 ** ****************************************************************************/
#include "Arduino.h"
#include <Esp.h>

#include "timer.h"
#include "initializer.h"
#include "mpu9250.h"

/** ****************************************************************************
 ** ************ DEFINES *******************************************************
 ** ****************************************************************************/
// data size
#define MOVEMENT_SIZE 2400
#define MOVEMENT_SAMPLES 12

#define MOV_ROUND 6

// enum to control the states of pressure sample
enum tag_MovementState
{
    noneMov = 0,
    adqMovement = 1,
    composeMov = 2
};

/** ****************************************************************************
 ** ************ VARIABLES *****************************************************
 ** ****************************************************************************/

/** ****************************************************************************
 ** ************ PROTOTYPES ****************************************************
 ** ****************************************************************************/
// movementSetup()
// @param none: void
// @return err: esp_err_t
esp_err_t movementSetup(void);

/* *****************************************************************************
 * **** TASK TO ACQUIRE DATA IMU ***********************************************
 * *****************************************************************************/
void task_MovAdq(void *arg);

#endif /* MOVEMENTSAMPLE_H */

/********************** (C) COPYRIGHT GIBIC MedTech ****** END OF FILE ****/